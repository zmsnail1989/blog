/*Mr.Zhang wedding*/$(function(){function v(){for(var w=d.find("a"),a=0;a<f+g;a++)for(var c=a,b=0;b<g&&!(c<b*f);b++)(function(c){setTimeout(function(){w.eq(c).addClass("show")},50*a)})(c),c+=f-1}function x(){for(var a=d.find("a"),b=0;b<f+g;b++)for(var c=l-b,e=g-1;0<=e&&!(c>(e+1)*f-1);e--)(function(c){setTimeout(function(){a.eq(c).addClass("show")},50*b)})(c),c-=f-1}function r(a){void 0===a&&(a=m);return 0==a?0:(l-2)*a+1}function y(a,b){b.addEventListener("click",function(c){c=c.target;c=new BMap.Point(c.getPosition().lng,c.getPosition().lat);var b=new BMap.InfoWindow(a,z);h.openInfoWindow(b,c)})}var m=0,l=100,p=150,q=150,f,g;data=[];var t=$(window),u=$("#loading"),d=$("#gallery");data=[{large:"http://blog-10046991.cos.myqcloud.com/large/007.jpg",thumb:"/assets/photos/thumbs/007.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/008.jpg",thumb:"/assets/photos/thumbs/008.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/010.jpg",thumb:"/assets/photos/thumbs/010.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/011.jpg",thumb:"/assets/photos/thumbs/011.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/013.jpg",thumb:"/assets/photos/thumbs/013.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/016.jpg",thumb:"/assets/photos/thumbs/016.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/018.jpg",thumb:"/assets/photos/thumbs/018.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/019.jpg",thumb:"/assets/photos/thumbs/019.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/020.jpg",thumb:"/assets/photos/thumbs/020.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/022.jpg",thumb:"/assets/photos/thumbs/022.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/023.jpg",thumb:"/assets/photos/thumbs/023.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/024.jpg",thumb:"/assets/photos/thumbs/024.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/026.jpg",thumb:"/assets/photos/thumbs/026.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/028.jpg",thumb:"/assets/photos/thumbs/028.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/029.jpg",thumb:"/assets/photos/thumbs/029.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/037.jpg",thumb:"/assets/photos/thumbs/037.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/038.jpg",thumb:"/assets/photos/thumbs/038.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/039.jpg",thumb:"/assets/photos/thumbs/039.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/043.jpg",thumb:"/assets/photos/thumbs/043.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/044.jpg",thumb:"/assets/photos/thumbs/044.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/045.jpg",thumb:"/assets/photos/thumbs/045.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/046.jpg",thumb:"/assets/photos/thumbs/046.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/050.jpg",thumb:"/assets/photos/thumbs/050.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/058.jpg",thumb:"/assets/photos/thumbs/058.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/059.jpg",thumb:"/assets/photos/thumbs/059.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/063.jpg",thumb:"/assets/photos/thumbs/063.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/064.jpg",thumb:"/assets/photos/thumbs/064.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/066.jpg",thumb:"/assets/photos/thumbs/066.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/068.jpg",thumb:"/assets/photos/thumbs/068.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/069.jpg",thumb:"/assets/photos/thumbs/069.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/073.jpg",thumb:"/assets/photos/thumbs/073.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/074.jpg",thumb:"/assets/photos/thumbs/074.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/075.jpg",thumb:"/assets/photos/thumbs/075.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/078.jpg",thumb:"/assets/photos/thumbs/078.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/079.jpg",thumb:"/assets/photos/thumbs/079.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/080.jpg",thumb:"/assets/photos/thumbs/080.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/081.jpg",thumb:"/assets/photos/thumbs/081.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/085.jpg",thumb:"/assets/photos/thumbs/085.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/086.jpg",thumb:"/assets/photos/thumbs/086.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/087.jpg",thumb:"/assets/photos/thumbs/087.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/089.jpg",thumb:"/assets/photos/thumbs/089.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/090.jpg",thumb:"/assets/photos/thumbs/090.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/094.jpg",thumb:"/assets/photos/thumbs/094.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/100.jpg",thumb:"/assets/photos/thumbs/100.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/101.jpg",thumb:"/assets/photos/thumbs/101.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/106.jpg",thumb:"/assets/photos/thumbs/106.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/108.jpg",thumb:"/assets/photos/thumbs/108.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/110.jpg",thumb:"/assets/photos/thumbs/110.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/112.jpg",thumb:"/assets/photos/thumbs/112.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/113.jpg",thumb:"/assets/photos/thumbs/113.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/115.jpg",thumb:"/assets/photos/thumbs/115.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/117.jpg",thumb:"/assets/photos/thumbs/117.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/119.jpg",thumb:"/assets/photos/thumbs/119.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/121.jpg",thumb:"/assets/photos/thumbs/121.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/122.jpg",thumb:"/assets/photos/thumbs/122.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/123.jpg",thumb:"/assets/photos/thumbs/123.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/124.jpg",thumb:"/assets/photos/thumbs/124.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/127.jpg",thumb:"/assets/photos/thumbs/127.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/128.jpg",thumb:"/assets/photos/thumbs/128.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/130.jpg",thumb:"/assets/photos/thumbs/130.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/133.jpg",thumb:"/assets/photos/thumbs/133.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/135.jpg",thumb:"/assets/photos/thumbs/135.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/136.jpg",thumb:"/assets/photos/thumbs/136.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/139.jpg",thumb:"/assets/photos/thumbs/139.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/140.jpg",thumb:"/assets/photos/thumbs/140.jpg"},{large:"http://blog-10046991.cos.myqcloud.com/large/141.jpg",thumb:"/assets/photos/thumbs/141.jpg"}];d.trigger("data-ready");d.on("data-ready window-resized page-turned",function(a,b){var c=[],e=[];d.trigger("loading");var f=data.slice(r(),r()+(0==m||r()+l-1>data.length-1?l-1:l-2));$.each(f,function(){e.push($.loadImage(this.thumb));c.push('\x3ca href\x3d"'+this.large+'" class\x3d"swipebox"style\x3d"width:'+p+"px;height:"+q+"px;background-image:url("+this.thumb+')"\x3e\x3c/a\x3e')});0<m&&c.unshift('\x3ca class\x3d"prev" style\x3d"width:'+p+"px;height:"+q+'px;"\x3e\x3c/a\x3e');data.length>r(m+1)&&c.push('\x3ca class\x3d"next" style\x3d"width:'+p+"px;height:"+q+'px;"\x3e\x3c/a\x3e');if(!c.length)return!1;$.when.apply($,e).always(function(){"window-resized"==a.type?(d.html(c.join("")),d.find("a").addClass("static"),$("#gallery .swipebox").swipebox()):d.fadeOut(function(){d.html(c.join(""));"page-turned"==a.type&&"br"==b?x():v();$("#gallery .swipebox").swipebox();d.show()});d.trigger("loading-finished")})});d.on("loading",function(){u.show()});d.on("loading-finished",function(){u.hide()});d.on("click",".next",function(){m++;d.trigger("page-turned",["br"])});d.on("click",".prev",function(){m--;d.trigger("page-turned",["tl"])});t.on("resize",function(a){var b=t.width();a=t.height();var c;f=Math.ceil(b/150);c=(150*f-b)/f;p=Math.ceil(150-c);b=f*p;g=Math.ceil(a/150);c=(150*g-a)/g;q=Math.ceil(150-c);a=g*q;l=f*g;d.width(b).height(a);d.trigger("window-resized")}).resize();var h=new BMap.Map("allmap");h.centerAndZoom(new BMap.Point(108.946223,34.214037),15);for(var e=[[108.946236,34.212639,"\u96c1\u5854\u533a\u6731\u96c0\u5927\u885719\u53f7\u5357\u65b9\u661f\u5ea7D\u5ea7(\u6768\u5bb6\u6751\u897f\u53e3\uff0c\u5317\u4fa7)"]],z={width:250,height:80,title:"\u5f90\u8bb0\u6d77\u9c9c(\u660e\u5fb7\u95e8\u5e97)",enableMessage:!0},a=0;a<e.length;a++){var k=new BMap.Marker(new BMap.Point(e[a][0],e[a][1])),b=e[a][2];h.addOverlay(k);h.disableDragging();h.addControl(new BMap.NavigationControl);h.addControl(new BMap.NavigationControl({anchor:BMAP_ANCHOR_BOTTOM_RIGHT,type:BMAP_NAVIGATION_CONTROL_ZOOM}));h.enableScrollWheelZoom();h.enableContinuousZoom();y(b,k)}e=window.innerWidth/320;k=window.innerHeight/480;a=document.querySelectorAll(".resize");for(b=0;b<a.length;b++)a[b].style.width=parseInt(a[b].style.width)*e+"px",a[b].style.height=parseInt(a[b].style.height)*k+"px",a[b].style.top=parseInt(a[b].style.top)*k+"px",a[b].style.left=parseInt(a[b].style.left)*e+"px";b=document.querySelectorAll(".txt");for(a=0;a<b.length;a++){var n=b[a].style;n.webkitTransform=n.MsTransform=n.msTransform=n.MozTransform=n.OTransform=n.transform="translateX("+b[a].offsetWidth*(e-1)/2+"px) translateY("+b[a].offsetHeight*(k-1)/2+"px)scaleX("+e+") scaleY("+k+") "}new Swiper(".swiper-container",{direction:"vertical",pagination:".swiper-pagination",mousewheelControl:!0,onInit:function(a){swiperAnimateCache(a);swiperAnimate(a)},onSlideChangeEnd:function(a){swiperAnimate(a)}});$("#mc_play").on("click",function(){$("#mc_play").hasClass("on")?($("#mc_play audio").get(0).pause(),$("#mc_play").attr("class","stop")):($("#mc_play audio").get(0).play(),$("#mc_play").attr("class","on"));event.stopPropagation()})});